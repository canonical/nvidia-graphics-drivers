nvidia-graphics-drivers-535 (535.183.01-0ubuntu2) oracular; urgency=medium

  * Add runtime dependency on libnvidia-egl-wayland1, needed to properly support wayland sessions (LP: #2062082)
  [ Paolo Pisati ]
  * Fix gcc-14 FTBFS (LP: #2075340)

 -- Eduard de Vidal Flores <eduard.de.vidal.flores@canonical.com>  Thu, 01 Aug 2024 15:23:10 +0200

nvidia-graphics-drivers-535 (535.183.01-0ubuntu1) oracular; urgency=medium

  * New upstream release (LP: #2067597)

 -- Eduard de Vidal Flores <eduard.de.vidal.flores@canonical.com>  Thu, 30 May 2024 12:44:25 +0200

nvidia-graphics-drivers-535 (535.179-0ubuntu1) oracular; urgency=medium

  * New upstream release (LP: #2066044)

 -- Eduard de Vidal Flores <eduard.de.vidal.flores@canonical.com>  Tue, 21 May 2024 16:38:19 +0200

nvidia-graphics-drivers-535 (535.171.04-0ubuntu3) oracular; urgency=medium

  * Change development branch to oracular, no binary release

 -- Kuba Pawlak <kuba.pawlak@canonical.com>  Tue, 07 May 2024 11:14:08 +0200

nvidia-graphics-drivers-535 (535.171.04-0ubuntu2) noble; urgency=medium

  * remove debian/dkms_nvidia/patches/buildfix_kernel_6.8-nv_drm_ioctls-DRM_UNLOCKED-is-now-the-default-behavi.patch
  * remove debian/dkms_nvidia/patches/buildfix_kernel_6.8-gpl-pfn_valid.patch
  * remove debian/open-kernel/patches/buildfix_kernel_6.8-nv_drm_ioctls-DRM_UNLOCKED-is-now-the-default-behavi.patch
  * remove debian/open-kernel/patches/buildfix_kernel_6.8-gpl-pfn_valid.patch

 -- Bartlomiej Zolnierkiewicz <bartlomiej.zolnierkiewicz@canonical.com>  Wed, 27 Mar 2024 14:45:04 +0100

nvidia-graphics-drivers-535 (535.171.04-0ubuntu1) noble; urgency=medium

  * New upstream release (LP: #2059147)
  * Revert "Use .xz extension on the driver source"

 -- Bartlomiej Zolnierkiewicz <bartlomiej.zolnierkiewicz@canonical.com>  Tue, 26 Mar 2024 17:34:32 +0100

nvidia-graphics-drivers-535 (535.161.07-0ubuntu2) noble; urgency=medium

  * New upstream release (LP: #2054571)
  * Use .xz extension on the driver source
  * Install all ABI builds of the libnvidia-pkcs11 plugin for host/container compatibility.
    (LP: #2052967)

 -- Dimitri John Ledkov <dimitri.ledkov@canonical.com>  Wed, 21 Feb 2024 22:42:52 +0000

nvidia-graphics-drivers-535 (535.154.05-0ubuntu2) noble; urgency=medium

  * debian/dkms_nvidia/patches/buildfix_kernel_6.8-nv_drm_ioctls-DRM_UNLOCKED-is-now-the-default-behavi.patch,
    debian/dkms_nvidia/patches/buildfix_kernel_6.8-gpl-pfn_valid.patch:
    - Fix build with Linux 6.8 (LP: #2052420)

 -- Paolo Pisati <paolo.pisati@canonical.com>  Mon, 05 Feb 2024 08:33:36 +0000

nvidia-graphics-drivers-535 (535.154.05-0ubuntu1) noble; urgency=medium

  * New upstream release (LP: #2048901)
  * Make orig tarballs reproducible

 -- Dimitri John Ledkov <dimitri.ledkov@canonical.com>  Mon, 15 Jan 2024 14:21:35 +0000

nvidia-graphics-drivers-535 (535.146.02-0ubuntu1) noble; urgency=medium

  * New upstream release (LP: #2045913):
    - Fixed a bug that could cause some multi-GPU systems to crash on
      suspend.
    - Fixed a bug that could cause the system to crash when an
      application is run with __NV_PRIME_RENDER_OFFLOAD=1.
    - Fixed a bug which prevented application profiles from getting
      applied to PRIME Render Offloaded applications running via
      Wine.
    - Disabled PRIME Display Offload Sink support for virtual
      displays on datacenter GPUs. This prevents unusable desktop
      layouts from getting automatically configured on systems with a
      mix of physical and virtual displays.
    - Fixed a bug that caused high CPU usage during system suspend,
      which could lead to the system not entering s2idle in some
      cases.

 -- Alberto Milone <alberto.milone@canonical.com>  Thu, 07 Dec 2023 16:06:19 +0100

nvidia-graphics-drivers-535 (535.129.03-0ubuntu1) noble; urgency=medium

  * New upstream release (LP: #2038514).

 -- Alberto Milone <alberto.milone@canonical.com>  Fri, 27 Oct 2023 17:28:36 +0200

nvidia-graphics-drivers-535 (535.113.01-0ubuntu3) mantic; urgency=medium

  * debian/rules:
    - Add override_dh_installsystemd.
    - Pass in dh_installsystemd --no-restart-after-upgrade.

 -- Alberto Milone <alberto.milone@canonical.com>  Fri, 29 Sep 2023 18:07:07 +0000

nvidia-graphics-drivers-535 (535.113.01-0ubuntu2) mantic; urgency=medium

  * debian/rules:
   - Pass in --no-stop-on-upgrade to dh_installsystemd.
     Prevent dh_installsystemd from stopping services (LP: #2025640).

 -- Alberto Milone <alberto.milone@canonical.com>  Fri, 29 Sep 2023 15:03:39 +0000

nvidia-graphics-drivers-535 (535.113.01-0ubuntu1) mantic; urgency=medium

  * New upstream release (LP: #2037266):
    - Fixed a bug that could cause GPU memory utilization to be
      reported incorrectly for Multi-Instance GPU (MIG) partitions on
      Grace Hopper systems.
    - Fixed a bug that intermittently caused the display to freeze
      when resuming from suspend on some Ada GPUs.

 -- Alberto Milone <alberto.milone@canonical.com>  Fri, 22 Sep 2023 10:44:17 +0000

nvidia-graphics-drivers-535 (535.104.05-0ubuntu4) mantic; urgency=medium

  * debian/rules:
    - Do not start the systemd services on installation or upgrade, as this can
      lead to a black screen.

 -- Alberto Milone <alberto.milone@canonical.com>  Thu, 31 Aug 2023 09:06:31 +0000

nvidia-graphics-drivers-535 (535.104.05-0ubuntu3) mantic; urgency=medium

  * Revert switch to new metas for now.

 -- Alberto Milone <alberto.milone@canonical.com>  Mon, 28 Aug 2023 15:53:28 +0000

nvidia-graphics-drivers-535 (535.104.05-0ubuntu2) mantic; urgency=medium

  [ Dimitri John Ledkov ]
  * debian/rules add flavour like in server package
  * Add breaks&replaces on identical firmware files from other flavour
    (LP: #2026622)

 -- Alberto Milone <alberto.milone@canonical.com>  Tue, 22 Aug 2023 16:05:46 +0000

nvidia-graphics-drivers-535 (535.104.05-0ubuntu1) mantic; urgency=medium

  * New upstream release:
    - Fixed an issue which caused the following error message to
      appear spuriously when using SLI with the NVIDIA  Open GPU
      Kernel Modules:
      (EE) NVIDIA: Unable to disable FB size compare
    - Fixed a bug which prevented DKMS from registering kernel
      modules.
    - Fixed a bug which could cause the screen to flicker.

 -- Alberto Milone <alberto.milone@canonical.com>  Tue, 22 Aug 2023 15:17:24 +0000

nvidia-graphics-drivers-535 (535.98-0ubuntu1) mantic; urgency=medium

  * New upstream release:
    - Fixed a bug that caused excessive memory consumption when
      OpenGL and Vulkan applications were running while VT-
      switched away from X.
    - Fixed a bug that could cause the kernel to panic when video
      memory is full.
    - Fixed a bug that prevented displays from refreshing when using
      an NVIDIA PRIME Display Offload sink.
    - Fixed a bug that could cause some Variable Refresh Rate (VRR)
      monitors to flicker by allowing the refresh rate to drop below
      the monitor's minimum.
    - Fixed a bug that caused corruption when running Vulkan
      applications.
    - Fixed a regression that could cause a system hang when running
      windowed Vulkan applications with sync-to-vblank enabled.
    - Fixed a video memory leak observed when turning off a connected
      monitor while using certain Wayland compositors.
  * debian/rules:
    - Strip the binaries.
  * debian/template/control.in:
    - Introduce the new -core and -lrm meta-packages (LP: #2025538).
    - The nvidia-driver-$flavour package relies on DKMS, the
      nvidia-driver-lrm-$flavour is meant to be used with the
      linux-restricted module. They conflict with each other, and both
      depend on the nvidia-driver-core-$flavour meta-package.
  * debian/nvidia-driver-535.docs:
    - Rename to debian/nvidia-driver-core-535.docs.

 -- Alberto Milone <alberto.milone@canonical.com>  Mon, 14 Aug 2023 13:28:39 +0000

nvidia-graphics-drivers-535 (535.86.05-0ubuntu1) mantic; urgency=medium

  * New upstream release (LP: #2028125):
    - Fixed a bug that caused excessive memory consumption when
      OpenGL and Vulkan applications were running while VT-
      switched away from X.
    - Fixed a bug that could cause the kernel to panic when video
      memory is full.
    - Fixed a bug that prevented displays from refreshing when using
      an NVIDIA PRIME Display Offload sink.
    - Fixed a bug that could cause some Variable Refresh Rate (VRR)
      monitors to flicker by allowing the refresh rate to drop below
      the monitor's minimum.
    - Fixed a bug that caused corruption when running Vulkan
      applications.
    - Fixed a regression that could cause a system hang when running
      windowed Vulkan applications with sync-to-vblank enabled.
    - Fixed a video memory leak observed when turning off a connected
      monitor while using certain Wayland compositors.
  * debian/rules{.defs}:
    - Match the patch changes on the Nvidia servers.

 -- Alberto Milone <alberto.milone@canonical.com>  Wed, 19 Jul 2023 07:37:25 +0000

nvidia-graphics-drivers-535 (535.54.03-0ubuntu1) mantic; urgency=medium

  * Initial release (LP: #2024675):
    - This replaces the 530 series.

 -- Alberto Milone <alberto.milone@canonical.com>  Mon, 26 Jun 2023 14:24:45 +0000
